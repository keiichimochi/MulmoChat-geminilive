# 実装タスクリスト

## 概要
この実装は、OpenAIリアルタイムAPIからGemini Live APIへの完全移行を目的とした大規模な変更作業です。WebRTC通信からWebSocket通信への変更、認証方式の変更、およびメッセージプロトコルの適応を含む複雑な移行プロジェクトです。

**実装アプローチ**: 4段階のフェーズで段階的に実装し、各フェーズで動作確認を行いながら進める安全な移行戦略を採用します。

## タスクカテゴリ

### セットアップ・基盤整備
依存関係の確認・更新、環境変数設定、型定義の準備

### バックエンド実装
Gemini Live API統合、認証システム変更、エンドポイント更新

### フロントエンド実装
WebSocket通信実装、音声ストリーム管理、メッセージハンドリング

### 統合・テスト
コンポーネント統合、E2Eテスト、パフォーマンス検証

### デプロイ・監視
本番環境への段階的デプロイ、監視設定、ドキュメント更新

## 実装フェーズ

**フェーズ1: 基盤準備とバックエンド変更** (1-2週間)
**フェーズ2: フロントエンド通信層変更** (1-2週間)
**フェーズ3: 統合テスト・最適化** (1週間)
**フェーズ4: 本番デプロイ・監視** (1週間)

## 詳細タスク分解

### セットアップ・基盤整備

#### タスクID: IMPL-001
**タイトル**: 依存関係バージョン確認・更新

**説明**: @google/genaiパッケージがgemini-2.5-flash-preview-native-audio-dialogモデルに対応しているかを確認し、必要に応じてアップデートする。また、WebSocket通信に必要な追加の型定義があれば導入する。

**受入基準**:
- [ ] @google/genai最新バージョンでgemini-2.5-flash-preview-native-audio-dialog対応を確認
- [ ] package.jsonの依存関係を最新の安定版に更新
- [ ] WebSocket関連のTypeScript型定義を確認・追加
- [ ] 全ての依存関係がTypeScript 5.4.5と互換性があることを確認

**依存関係**:
- なし（最初に実行する基盤タスク）

**推定工数**: 2-4時間

**リスクレベル**: Low

**実装ノート**:
- Gemini Live APIの最新ドキュメントで対応確認
- 破壊的変更がないかCHANGELOGを確認
- WebSocket関連の型定義は@types/wsまたはブラウザ標準WebSocket型を使用

**検証ステップ**:
- [ ] npm install実行で依存関係エラーがないことを確認
- [ ] TypeScriptコンパイルが正常に完了することを確認

---

#### タスクID: IMPL-002
**タイトル**: Gemini Live API認証情報設定

**説明**: 環境変数GEMINI_API_KEYが正しく設定され、Gemini Live APIアクセスが可能であることを確認する。開発・本番環境両方での設定を準備する。

**受入基準**:
- [ ] .env.exampleにGEMINI_API_KEYの設定例を追加
- [ ] 開発環境でGemini Live APIへの基本的なアクセステストが成功
- [ ] 本番環境用のシークレット管理方針を文書化
- [ ] APIキーの有効性とレート制限を確認

**依存関係**:
- IMPL-001（依存関係更新完了後）

**推定工数**: 1-2時間

**リスクレベル**: Medium

**実装ノート**:
- Gemini APIコンソールでAPIキー生成・権限確認
- Live API特有の設定があるかを確認
- セキュリティベストプラクティスに従った設定

**検証ステップ**:
- [ ] 簡単なGemini Live API呼び出しが成功することを確認
- [ ] 認証エラーが適切にハンドリングされることを確認

---

#### タスクID: IMPL-003
**タイトル**: TypeScript型定義作成

**説明**: Gemini Live APIのメッセージ形式、セッション管理、WebSocket通信に関するTypeScript型定義を作成する。

**受入基準**:
- [ ] GeminiLiveMessage型とそのサブタイプ定義
- [ ] SessionCredentials、SessionResponse型定義
- [ ] WebSocket接続状態管理用の型定義
- [ ] ツール呼び出し関連のGemini Live形式型定義
- [ ] エラーハンドリング用の型定義

**依存関係**:
- IMPL-001（基本パッケージ更新後）

**推定工数**: 3-4時間

**リスクレベル**: Low

**実装ノート**:
- server/types.tsまたは新規types/gemini.tsファイルに定義
- 既存のOpenAI型定義との整合性を保つ
- JSONスキーマからの型生成を検討

**検証ステップ**:
- [ ] TypeScriptコンパイルエラーがないことを確認
- [ ] 型定義が実際のAPIレスポンスと一致することを確認

---

### バックエンド実装

#### タスクID: IMPL-004
**タイトル**: GeminiSessionManagerサービス実装

**説明**: Gemini Live APIセッション管理を担当する新しいサービスクラスを実装する。ephemeral token生成、セッション作成・管理機能を含む。

**受入基準**:
- [ ] createSession()メソッドでephemeral token生成
- [ ] セッション設定（音声設定、ツール定義等）の管理
- [ ] セッション有効期限とトークン更新の管理
- [ ] エラーハンドリングと適切なログ出力
- [ ] 既存のAPIRouter から容易に利用可能なインターフェース

**依存関係**:
- IMPL-003（型定義完成後）
- IMPL-002（認証設定完了後）

**推定工数**: 6-8時間

**リスクレベル**: High

**実装ノート**:
- server/services/geminiSessionManager.tsとして実装
- @google/genaiライブラリを使用してephemeral token取得
- セッション状態をメモリ管理（将来的にRedis等に移行可能な設計）
- 適切なエラー分類（認証エラー、ネットワークエラー等）

**検証ステップ**:
- [ ] 単体テストでセッション作成・管理機能を検証
- [ ] 実際のGemini Live APIとの連携テスト
- [ ] エラーケースでの適切な例外処理を確認

---

#### タスクID: IMPL-005
**タイトル**: /api/startエンドポイント変更

**説明**: 既存の/api/startエンドポイントをGemini Live用に変更する。OpenAI client_secrets APIの呼び出しを削除し、GeminiSessionManagerを使用した実装に置き換える。

**受入基準**:
- [ ] OpenAI APIへのfetchリクエストを完全削除
- [ ] GeminiSessionManagerを使用したセッション作成実装
- [ ] レスポンス形式の更新（ephemeralToken、websocketUrl追加）
- [ ] 既存のgoogleMapKeyレスポンスを維持
- [ ] 適切なエラーハンドリングとHTTPステータスコード

**依存関係**:
- IMPL-004（GeminiSessionManager実装完了後）

**推定工数**: 3-4時間

**リスクレベル**: Medium

**実装ノート**:
- server/routes/api.tsの/api/startエンドポイントを修正
- 既存のレスポンス形式との互換性を保つ
- OPENAI_API_KEYに関連するコードを削除

**検証ステップ**:
- [ ] /api/startが正常なレスポンスを返すことを確認
- [ ] OpenAI関連のコードが完全に削除されていることを確認
- [ ] エラーケースでの適切なレスポンスを確認

---

#### タスクID: IMPL-006
**タイトル**: 既存ツールエンドポイント保持・検証

**説明**: 既存の画像生成(/api/generate-image)、ウェブ閲覧(/api/browse)、Twitter埋め込み(/api/twitter-embed)エンドポイントが正常に動作することを確認し、必要に応じて軽微な調整を行う。

**受入基準**:
- [ ] /api/generate-imageエンドポイントの正常動作確認
- [ ] /api/browseエンドポイントの正常動作確認
- [ ] /api/twitter-embedエンドポイントの正常動作確認
- [ ] 各エンドポイントのエラーハンドリング検証
- [ ] レスポンス形式が変更されていないことを確認

**依存関係**:
- IMPL-005（新しいAPIルーター動作確認後）

**推定工数**: 2-3時間

**リスクレベル**: Low

**実装ノート**:
- 基本的には変更不要、動作確認が主目的
- 必要に応じて軽微なリファクタリング
- エラーログの改善があれば実施

**検証ステップ**:
- [ ] 各エンドポイントへの実際のリクエストテスト
- [ ] エラーケースでの適切なレスポンス確認
- [ ] 既存のフロントエンドとの互換性確認

---

### フロントエンド実装

#### タスクID: IMPL-007
**タイトル**: WebSocketClientサービス実装

**説明**: WebRTC通信を置き換える新しいWebSocketClientサービスを実装する。Gemini Live WebSocket APIとの通信、接続管理、メッセージ送受信を担当する。

**受入基準**:
- [ ] WebSocket接続の確立・切断管理
- [ ] Gemini Live APIメッセージの送受信
- [ ] 接続状態の監視とイベント通知
- [ ] 自動再接続機能（指数バックオフ）
- [ ] 適切なエラーハンドリングとユーザー通知

**依存関係**:
- IMPL-005（バックエンドAPI変更完了後）
- IMPL-003（型定義作成後）

**推定工数**: 8-10時間

**リスクレベル**: High

**実装ノート**:
- src/services/webSocketClient.tsとして実装
- 既存のWebRTCコードを参考にしてインターフェース設計
- Vue.js Composition APIとの統合を考慮
- 接続状態管理にreactiveを使用

**検証ステップ**:
- [ ] WebSocket接続・切断の正常動作確認
- [ ] メッセージ送受信の動作確認
- [ ] 接続エラー時の自動復旧確認
- [ ] 複数タブでの動作確認

---

#### タスクID: IMPL-008
**タイトル**: AudioStreamManagerサービス実装

**説明**: Gemini Live音声仕様（16kHz入力、24kHz出力）に対応した音声ストリーム管理サービスを実装する。WebAudio APIを使用した音声処理と品質制御を行う。

**受入基準**:
- [ ] マイク音声の16kHz PCM形式での取得
- [ ] 24kHz出力音声の再生処理
- [ ] 音声品質制御（ノイズ除去、ゲイン調整）
- [ ] 音声ストリームの開始・停止管理
- [ ] ブラウザ互換性を考慮した実装

**依存関係**:
- IMPL-007（WebSocketClient実装後）

**推定工数**: 6-8時間

**リスクレベル**: High

**実装ノート**:
- src/services/audioStreamManager.tsとして実装
- Web Audio APIのAudioContextを使用
- サンプリングレート変換処理の実装
- 音声バッファリング戦略を検討

**検証ステップ**:
- [ ] 音声入力の正常な取得・処理確認
- [ ] 音声出力の品質確認
- [ ] 各ブラウザでの互換性確認
- [ ] 音声遅延の測定・最適化

---

#### タスクID: IMPL-009
**タイトル**: App.vueのstartChat関数更新

**説明**: 既存のstartChat関数をWebRTC通信からWebSocket通信に変更する。新しいAPIレスポンス形式に対応し、WebSocketClient、AudioStreamManagerを統合する。

**受入基準**:
- [ ] /api/startからの新しいレスポンス形式（ephemeralToken、websocketUrl）に対応
- [ ] WebRTCコード（RTCPeerConnection、DataChannel）を削除
- [ ] WebSocketClientを使用した接続実装
- [ ] AudioStreamManagerを使用した音声ストリーム開始
- [ ] 既存のUI（connecting状態、エラー表示）を維持

**依存関係**:
- IMPL-008（AudioStreamManager実装後）
- IMPL-007（WebSocketClient実装後）

**推定工数**: 4-6時間

**リスクレベル**: Medium

**実装ノート**:
- src/App.vueのstartChat()、stopChat()関数を大幅変更
- webrtc関連の変数・状態管理を新しい形式に変更
- 既存のUI要素・ユーザーエクスペリエンスを維持

**検証ステップ**:
- [ ] 音声チャット開始・停止の正常動作確認
- [ ] UI状態の適切な更新確認
- [ ] エラー状態でのユーザー体験確認

---

#### タスクID: IMPL-010
**タイトル**: メッセージハンドリング更新

**説明**: Gemini Live APIメッセージ形式に対応するため、messageHandler関数を更新する。OpenAI形式からGemini Live形式への変換処理を実装する。

**受入基準**:
- [ ] Gemini Liveメッセージタイプ（audio.input、audio.output、text等）の処理
- [ ] テキスト差分メッセージの適切な処理
- [ ] 音声データの受信・再生処理
- [ ] エラーメッセージの適切なハンドリング
- [ ] 既存のメッセージ表示UIとの互換性維持

**依存関係**:
- IMPL-009（startChat関数更新後）

**推定工数**: 4-5時間

**リスクレベル**: Medium

**実装ノート**:
- src/App.vueのmessageHandler()関数を更新
- Gemini Live APIドキュメントを参照してメッセージ形式を確認
- 既存のcurrentText、messagesの更新ロジックを維持

**検証ステップ**:
- [ ] 各種メッセージタイプの正常処理確認
- [ ] テキスト表示の正常動作確認
- [ ] エラーメッセージの適切な表示確認

---

#### タスクID: IMPL-011
**タイトル**: ツールアダプター実装

**説明**: OpenAI形式のツール呼び出しをGemini Live形式に変換するアダプター層を実装する。既存のpluginTools、processToolCall関数との統合を行う。

**受入基準**:
- [ ] OpenAI形式からGemini Live形式へのツール定義変換
- [ ] Gemini Liveツール呼び出しメッセージの処理
- [ ] 既存のgenerateImage、browseツールとの互換性維持
- [ ] ツール実行結果のGemini Live形式レスポンス生成
- [ ] エラーハンドリングとフォールバック処理

**依存関係**:
- IMPL-010（メッセージハンドリング更新後）

**推定工数**: 6-8時間

**リスクレベル**: High

**実装ノート**:
- src/services/toolAdapter.tsとして新規実装
- 既存のsrc/plugins/type.tsとの統合を検討
- Gemini Live APIのfunction calling仕様を詳細調査

**検証ステップ**:
- [ ] 画像生成ツールの正常動作確認
- [ ] ウェブ閲覧ツールの正常動作確認
- [ ] ツールエラー時の適切なハンドリング確認
- [ ] ツール実行結果の正常表示確認

---

#### タスクID: IMPL-012
**タイトル**: セッション設定更新

**説明**: session.updateメッセージの内容をGemini Live仕様に更新する。モデル名、音声設定、ツール定義をGemini Live形式に変更する。

**受入基準**:
- [ ] モデル名を"gpt-realtime"から"gemini-2.5-flash-preview-native-audio-dialog"に変更
- [ ] 音声設定をGemini Live仕様（16kHz入力、24kHz出力）に更新
- [ ] システムプロンプト（instructions）の適切な設定
- [ ] ツール定義のGemini Live形式での送信
- [ ] セッション設定のバリデーション実装

**依存関係**:
- IMPL-011（ツールアダプター実装後）

**推定工数**: 3-4時間

**リスクレベル**: Medium

**実装ノート**:
- App.vueのWebSocket接続後のsession.updateメッセージを変更
- Gemini Live APIドキュメントでセッション設定形式を確認
- 既存のsystemPrompt設定を活用

**検証ステップ**:
- [ ] セッション設定メッセージの正常送信確認
- [ ] Gemini Liveからの設定確認レスポンス受信確認
- [ ] 音声品質設定の適用確認

---

### 統合・テスト

#### タスクID: IMPL-013
**タイトル**: E2E音声会話テスト

**説明**: 完全な音声会話フローのエンドツーエンドテストを実装・実行する。セッション開始から音声対話、ツール使用、セッション終了までの全体フローを検証する。

**受入基準**:
- [ ] セッション開始から音声入力受付までの正常フロー確認
- [ ] 音声による質問・回答の正常動作確認
- [ ] ツール呼び出し（画像生成、ウェブ閲覧）の動作確認
- [ ] 長時間セッションでの安定性確認
- [ ] セッション終了処理の正常動作確認

**依存関係**:
- IMPL-012（セッション設定更新後）

**推定工数**: 4-6時間

**リスクレベル**: Medium

**実装ノート**:
- 手動テストとしてテストシナリオを文書化
- 音声品質、レスポンス時間の主観的評価
- 複数ブラウザでの動作確認

**検証ステップ**:
- [ ] Chrome、Firefox、Safariでの動作確認
- [ ] モバイルブラウザでの基本動作確認
- [ ] 長時間使用での安定性確認
- [ ] 音声品質の主観的評価

---

#### タスクID: IMPL-014
**タイトル**: パフォーマンス最適化

**説明**: 音声遅延の最小化、メモリ使用量の最適化、CPU負荷の軽減など、システム全体のパフォーマンス最適化を実施する。

**受入基準**:
- [ ] 音声入力から出力までの遅延を500ms以下に最適化
- [ ] メモリ使用量の監視と漏れ（memory leak）の解決
- [ ] CPU使用率の最適化（特に音声処理部分）
- [ ] ネットワーク使用量の最適化
- [ ] パフォーマンスメトリクスの測定・文書化

**依存関係**:
- IMPL-013（E2Eテスト完了後）

**推定工数**: 6-8時間

**リスクレベル**: Medium

**実装ノート**:
- ブラウザ開発者ツールでのプロファイリング
- Web Audio APIの最適化（バッファサイズ等）
- WebSocket メッセージの効率化
- 不要な再レンダリングの削除

**検証ステップ**:
- [ ] Performance APIでの遅延測定
- [ ] メモリ使用量の継続監視
- [ ] CPU使用率の測定・比較
- [ ] ネットワーク転送量の確認

---

#### タスクID: IMPL-015
**タイトル**: エラーハンドリング統合テスト

**説明**: 様々なエラーシナリオでのシステム動作を検証し、適切なエラーハンドリングとユーザー体験を確保する。

**受入基準**:
- [ ] ネットワーク接続エラー時の自動復旧動作確認
- [ ] API認証エラー時の適切なユーザー通知
- [ ] マイクアクセス拒否時のガイダンス表示
- [ ] セッション有効期限切れ時の自動更新
- [ ] ツール実行エラー時のグレースフルデグラデーション

**依存関係**:
- IMPL-014（パフォーマンス最適化後）

**推定工数**: 4-5時間

**リスクレベル**: Medium

**実装ノート**:
- 意図的にエラー状況を作り出してテスト
- ユーザビリティを重視したエラーメッセージ
- 復旧可能なエラーでの自動リトライ実装

**検証ステップ**:
- [ ] 各エラーシナリオでの適切な処理確認
- [ ] ユーザーインターフェースでの適切なフィードバック確認
- [ ] エラーログの出力確認

---

#### タスクID: IMPL-016
**タイトル**: 単体テスト・統合テスト実装

**説明**: 主要コンポーネントの単体テストと統合テストを実装する。特に新規実装のGeminiSessionManager、WebSocketClient、AudioStreamManagerのテストを重視する。

**受入基準**:
- [ ] GeminiSessionManagerの単体テスト（セッション作成、トークン管理）
- [ ] WebSocketClientの単体テスト（接続管理、メッセージ送受信）
- [ ] AudioStreamManagerの単体テスト（音声処理、品質制御）
- [ ] ToolAdapterの単体テスト（形式変換、ツール実行）
- [ ] APIエンドポイントの統合テスト

**依存関係**:
- IMPL-015（エラーハンドリングテスト後）

**推定工数**: 8-10時間

**リスクレベル**: Low

**実装ノート**:
- 既存のテストフレームワーク（Jest等）を使用
- モックを活用してGemini Live APIとの依存を分離
- 非同期処理とWebSocket通信のテスト戦略

**検証ステップ**:
- [ ] 全テストの成功実行確認
- [ ] カバレッジ80%以上を目標
- [ ] CI/CDパイプラインでのテスト実行確認

---

### デプロイ・監視

#### タスクID: IMPL-017
**タイトル**: 開発環境統合テスト

**説明**: 開発環境でのフル統合テストを実施し、本番デプロイ前の最終検証を行う。実際のGemini Live APIとの連携を含む完全なテストを実行する。

**受入基準**:
- [ ] 開発環境での完全なE2Eテストパス
- [ ] 実際のGemini Live APIとの連携動作確認
- [ ] パフォーマンス指標の目標値達成確認
- [ ] セキュリティテスト（API키 管理、HTTPS通信等）の実施
- [ ] 複数同時ユーザーでの動作確認

**依存関係**:
- IMPL-016（テスト実装完了後）

**推定工数**: 4-6時間

**リスクレベル**: Medium

**実装ノート**:
- 本番に近い環境でのテスト実施
- 負荷テストツールを使用した同時接続テスト
- セキュリティスキャンツールの活用

**検証ステップ**:
- [ ] 全機能の正常動作確認
- [ ] パフォーマンス指標の測定・評価
- [ ] セキュリティチェックリストの完了
- [ ] デプロイ準備作業の完了

---

#### タスクID: IMPL-018
**タイトル**: 本番環境設定準備

**説明**: 本番環境でのGemini Live API設定、環境変数、監視設定等を準備する。段階的ロールアウトのための設定も含む。

**受入基準**:
- [ ] 本番用GEMINI_API_KEYの設定・権限確認
- [ ] 環境変数の本番環境設定
- [ ] ログ記録設定の本番環境最適化
- [ ] 監視・アラート設定の準備
- [ ] フィーチャーフラグまたは段階的ロールアウト設定

**依存関係**:
- IMPL-017（開発環境統合テスト完了後）

**推定工数**: 3-4時間

**リスクレベル**: High

**実装ノート**:
- 本番環境のセキュリティ要件を満たす設定
- 監視ツール（ログ、メトリクス、アラート）の設定
- ロールバック戦略の準備

**検証ステップ**:
- [ ] 本番環境設定の動作確認
- [ ] 監視・ログ出力の確認
- [ ] セキュリティ設定の検証

---

#### タスクID: IMPL-019
**タイトル**: 段階的本番デプロイ

**説明**: 本番環境への段階的デプロイを実施する。少数のユーザーから開始し、問題がないことを確認しながら全ユーザーに展開する。

**受入基準**:
- [ ] 5%ユーザーでの初期デプロイ・動作確認
- [ ] 25%ユーザーでの拡大デプロイ・安定性確認
- [ ] 50%ユーザーでの大規模デプロイ・負荷確認
- [ ] 100%ユーザーでの完全移行完了
- [ ] 各段階でのロールバック判定基準の適用

**依存関係**:
- IMPL-018（本番環境設定完了後）

**推定工数**: 1-2日（段階的実施）

**リスクレベル**: High

**実装ノート**:
- フィーチャーフラグまたはロードバランサー設定で段階実施
- 各段階での詳細な監視とログ確認
- ロールバック手順の準備と迅速な判断

**検証ステップ**:
- [ ] 各段階での成功基準の確認
- [ ] ユーザーフィードバックの収集・分析
- [ ] システムメトリクスの継続監視

---

#### タスクID: IMPL-020
**タイトル**: 監視・アラート設定

**説明**: 本番環境でのシステム監視、パフォーマンス監視、エラー監視の設定を完了する。運用チームが適切にシステム状況を把握できる体制を構築する。

**受入基準**:
- [ ] Gemini Live API応答時間・成功率の監視設定
- [ ] WebSocket接続数・安定性の監視設定
- [ ] 音声品質メトリクス（遅延、品質等）の監視設定
- [ ] エラー率・種別別アラート設定
- [ ] ダッシュボードによる可視化設定

**依存関係**:
- IMPL-019（段階的デプロイ開始後）

**推定工数**: 4-5時間

**リスクレベル**: Medium

**実装ノート**:
- 既存の監視インフラストラクチャを活用
- Gemini Live API特有のメトリクスに注意
- 適切なアラート閾値の設定

**検証ステップ**:
- [ ] 監視データの正常な収集確認
- [ ] アラートの適切な発火確認
- [ ] ダッシュボードの表示確認

---

#### タスクID: IMPL-021
**タイトル**: ドキュメント更新・完了

**説明**: 移行完了に伴うドキュメント更新、運用手順書の作成、開発者向けドキュメントの更新を行う。プロジェクト完了の最終確認も実施する。

**受入基準**:
- [ ] README.mdの更新（セットアップ手順、API変更点等）
- [ ] 運用手順書の作成（障害対応、監視ポイント等）
- [ ] API仕様書の更新（新しいエンドポイント仕様）
- [ ] 移行完了の確認とOpenAI関連コードの完全削除確認
- [ ] プロジェクト完了報告書の作成

**依存関係**:
- IMPL-020（監視設定完了後）

**推定工数**: 3-4時間

**リスクレベル**: Low

**実装ノート**:
- 既存ドキュメントとの整合性確保
- 将来の開発者・運用者が理解しやすい内容
- 変更点の明確な記載

**検証ステップ**:
- [ ] ドキュメントの内容確認・レビュー
- [ ] OpenAI関連コードの完全削除確認
- [ ] プロジェクト目標達成の最終確認

---

## 重要な実装ノート

### 高リスクタスク
- **IMPL-004**: GeminiSessionManager実装（新しいAPI統合の核心）
- **IMPL-007**: WebSocketClient実装（通信プロトコル変更の要）
- **IMPL-008**: AudioStreamManager実装（音声品質に直結）
- **IMPL-011**: ツールアダプター実装（既存機能維持の鍵）
- **IMPL-018**: 本番環境設定（セキュリティ・安定性）
- **IMPL-019**: 段階的デプロイ（ユーザー影響最小化）

### 並行実行可能タスク
- **Phase 1**: IMPL-001, IMPL-002, IMPL-003は並行実行可能
- **Phase 2**: IMPL-006は他の開発と並行可能
- **Phase 3**: IMPL-014, IMPL-015は個別コンポーネント完成後に並行実行可能

### 重要な依存関係
- バックエンド完成（IMPL-005）後にフロントエンド本格開始
- WebSocketClient（IMPL-007）完成後にその他フロントエンド機能の実装
- 全コンポーネント統合（IMPL-012）後にテスト・最適化フェーズ開始

### 成功基準
- 音声応答遅延: 500ms以下
- セッション成功率: 95%以上
- ツール機能動作率: 98%以上
- ユーザー満足度: 既存レベル維持または向上